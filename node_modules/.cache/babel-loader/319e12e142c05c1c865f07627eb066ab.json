{"remainingRequest":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\text\\vue基础\\vue-admin-template-master\\src\\store\\modules\\user.js","dependencies":[{"path":"E:\\text\\vue基础\\vue-admin-template-master\\src\\store\\modules\\user.js","mtime":1661422209269},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\babel.config.js","mtime":1661332991891},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661324308788},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1661324301563},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\eslint-loader\\index.js","mtime":1661324308625}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovdGV4dC92dWVcdTU3RkFcdTc4NDAvdnVlLWFkbWluLXRlbXBsYXRlLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkU6L3RleHQvdnVlXHU1N0ZBXHU3ODQwL3Z1ZS1hZG1pbi10ZW1wbGF0ZS1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJFOi90ZXh0L3Z1ZVx1NTdGQVx1Nzg0MC92dWUtYWRtaW4tdGVtcGxhdGUtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IHsgZ2V0VG9rZW4sIHJlbW92ZVRva2VuLCBzZXRUaW1lU3RhbXAsIHNldFRva2VuIH0gZnJvbSAnQC91dGlscy9hdXRoJzsKaW1wb3J0IHsgZ2V0VXNlckRldGFpbEJ5SWQsIGdldFVzZXJJbmZvIGFzIF9nZXRVc2VySW5mbywgbG9naW4gYXMgX2xvZ2luIH0gZnJvbSAnQC9hcGkvdXNlcic7CnZhciBzdGF0ZSA9IHsKICAvLyDorr7nva50b2tlbuS4uuWFseS6q+eKtuaAgQogIHRva2VuOiBnZXRUb2tlbigpLAogIHVzZXJJbmZvOiB7fQp9Owp2YXIgbXV0YXRpb25zID0gewogIFNFVF9UT0tFTjogZnVuY3Rpb24gU0VUX1RPS0VOKHN0YXRlLCB0b2tlbikgewogICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICAgIHNldFRva2VuKHN0YXRlLnRva2VuKTsKICB9LAogIFJFTU9WRV9UT0tFTjogZnVuY3Rpb24gUkVNT1ZFX1RPS0VOKHN0YXRlKSB7CiAgICBzdGF0ZS50b2tlbiA9IG51bGw7CiAgICByZW1vdmVUb2tlbigpOwogIH0sCiAgU0VUX1VTRVJJTkZPOiBmdW5jdGlvbiBTRVRfVVNFUklORk8oc3RhdGUsIHJlc3VsdCkgewogICAgc3RhdGUudXNlckluZm8gPSByZXN1bHQ7CiAgfSwKICBSRU1PVkVfVVNFUklORk86IGZ1bmN0aW9uIFJFTU9WRV9VU0VSSU5GTyhzdGF0ZSkgewogICAgc3RhdGUudXNlckluZm8gPSB7fTsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihjb250ZXh0LCBkYXRhKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgcmVzdWx0OwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF9sb2dpbihkYXRhKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHNldFRpbWVTdGFtcCgpOwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdTRVRfVE9LRU4nLCByZXN1bHQpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKGNvbnRleHQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgcmVzdWx0LCBiYXNlSW5mbzsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF9nZXRVc2VySW5mbygpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gZ2V0VXNlckRldGFpbEJ5SWQocmVzdWx0LnVzZXJJZCk7CgogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgYmFzZUluZm8gPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnU0VUX1VTRVJJTkZPJywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZXN1bHQpLCBiYXNlSW5mbykpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCByZXN1bHQpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChjb250ZXh0KSB7CiAgICBjb250ZXh0LmNvbW1pdCgnUkVNT1ZFX1RPS0VOJyk7CiAgICBjb250ZXh0LmNvbW1pdCgnUkVNT1ZFX1VTRVJJTkZPJyk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"names":["getToken","removeToken","setTimeStamp","setToken","getUserDetailById","getUserInfo","login","state","token","userInfo","mutations","SET_TOKEN","REMOVE_TOKEN","SET_USERINFO","result","REMOVE_USERINFO","actions","context","data","commit","userId","baseInfo","logout","namespaced"],"sources":["E:/text/vue基础/vue-admin-template-master/src/store/modules/user.js"],"sourcesContent":["import { getToken, removeToken, setTimeStamp, setToken } from '@/utils/auth'\nimport { getUserDetailById, getUserInfo, login } from '@/api/user'\n\nconst state = {\n  // 设置token为共享状态\n  token: getToken(),\n  userInfo: {}\n}\nconst mutations = {\n  SET_TOKEN: (state, token) => {\n    state.token = token\n    setToken(state.token)\n  },\n  REMOVE_TOKEN: (state) => {\n    state.token = null\n    removeToken()\n  },\n  SET_USERINFO: (state, result) => {\n    state.userInfo = result\n  },\n  REMOVE_USERINFO: (state) => {\n    state.userInfo = {}\n  }\n}\nconst actions = {\n  async login (context, data) {\n    const result = await login(data)\n    setTimeStamp()\n    context.commit('SET_TOKEN' , result)\n  },\n  async getUserInfo (context) {\n    const result = await getUserInfo()\n    const baseInfo = await getUserDetailById(result.userId)\n    context.commit('SET_USERINFO', { ...result, ...baseInfo })\n    return result\n  },\n  logout(context) {\n    context.commit('REMOVE_TOKEN')\n    context.commit('REMOVE_USERINFO')\n  }\n}\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}\n\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,YAAhC,EAA8CC,QAA9C,QAA8D,cAA9D;AACA,SAASC,iBAAT,EAA4BC,WAAW,IAAXA,YAA5B,EAAyCC,KAAK,IAALA,MAAzC,QAAsD,YAAtD;AAEA,IAAMC,KAAK,GAAG;EACZ;EACAC,KAAK,EAAER,QAAQ,EAFH;EAGZS,QAAQ,EAAE;AAHE,CAAd;AAKA,IAAMC,SAAS,GAAG;EAChBC,SAAS,EAAE,mBAACJ,KAAD,EAAQC,KAAR,EAAkB;IAC3BD,KAAK,CAACC,KAAN,GAAcA,KAAd;IACAL,QAAQ,CAACI,KAAK,CAACC,KAAP,CAAR;EACD,CAJe;EAKhBI,YAAY,EAAE,sBAACL,KAAD,EAAW;IACvBA,KAAK,CAACC,KAAN,GAAc,IAAd;IACAP,WAAW;EACZ,CARe;EAShBY,YAAY,EAAE,sBAACN,KAAD,EAAQO,MAAR,EAAmB;IAC/BP,KAAK,CAACE,QAAN,GAAiBK,MAAjB;EACD,CAXe;EAYhBC,eAAe,EAAE,yBAACR,KAAD,EAAW;IAC1BA,KAAK,CAACE,QAAN,GAAiB,EAAjB;EACD;AAde,CAAlB;AAgBA,IAAMO,OAAO,GAAG;EACRV,KADQ,iBACDW,OADC,EACQC,IADR,EACc;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACLZ,MAAK,CAACY,IAAD,CADA;;YAAA;cACpBJ,MADoB;cAE1BZ,YAAY;cACZe,OAAO,CAACE,MAAR,CAAe,WAAf,EAA6BL,MAA7B;;YAH0B;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAI3B,CALa;EAMRT,WANQ,uBAMKY,OANL,EAMc;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACLZ,YAAW,EADN;;YAAA;cACpBS,MADoB;cAAA;cAAA,OAEHV,iBAAiB,CAACU,MAAM,CAACM,MAAR,CAFd;;YAAA;cAEpBC,QAFoB;cAG1BJ,OAAO,CAACE,MAAR,CAAe,cAAf,kCAAoCL,MAApC,GAA+CO,QAA/C;cAH0B,kCAInBP,MAJmB;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAK3B,CAXa;EAYdQ,MAZc,kBAYPL,OAZO,EAYE;IACdA,OAAO,CAACE,MAAR,CAAe,cAAf;IACAF,OAAO,CAACE,MAAR,CAAe,iBAAf;EACD;AAfa,CAAhB;AAiBA,eAAe;EACbI,UAAU,EAAE,IADC;EAEbhB,KAAK,EAALA,KAFa;EAGbG,SAAS,EAATA,SAHa;EAIbM,OAAO,EAAPA;AAJa,CAAf"}]}