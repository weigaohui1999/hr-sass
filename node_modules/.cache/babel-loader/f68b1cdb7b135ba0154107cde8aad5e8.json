{"remainingRequest":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\text\\vue基础\\vue-admin-template-master\\src\\permission.js","dependencies":[{"path":"E:\\text\\vue基础\\vue-admin-template-master\\src\\permission.js","mtime":1661418670041},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\babel.config.js","mtime":1661332991891},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661324308788},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1661324301563},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\eslint-loader\\index.js","mtime":1661324308625}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiRTovdGV4dC92dWVcdTU3RkFcdTc4NDAvdnVlLWFkbWluLXRlbXBsYXRlLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vcmVnZW5lcmF0b3JSdW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkU6L3RleHQvdnVlXHU1N0ZBXHU3ODQwL3Z1ZS1hZG1pbi10ZW1wbGF0ZS1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsKaW1wb3J0IHN0b3JlIGZyb20gJ0Avc3RvcmUnOyAvLyDlvJXlhaXov5vluqbmnaEKCmltcG9ydCBucHJvZ3Jlc3MgZnJvbSAnbnByb2dyZXNzJzsKaW1wb3J0ICducHJvZ3Jlc3MvbnByb2dyZXNzLmNzcyc7IC8vIOeZveWQjeWNlQoKdmFyIHdoaXRlTGlzdCA9IFsnL2xvZ2luJywgJy80MDQnXTsgLy8g5YmN572u5a6I5Y2rCgpyb3V0ZXIuYmVmb3JlRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0bywgZnJvbSwgbmV4dCkgewogICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAvLyDlvIDlkK/ov5vluqbmnaEKICAgICAgICAgICAgbnByb2dyZXNzLnN0YXJ0KCk7CgogICAgICAgICAgICBpZiAoIXN0b3JlLmdldHRlcnMudG9rZW4pIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmICghKHRvLnBhdGggPT09ICcvbG9naW4nKSkgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBuZXh0KCcvJyk7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICBpZiAoc3RvcmUuZ2V0dGVycy51c2VySWQpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gOTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgndXNlci9nZXRVc2VySW5mbycpOwoKICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgbmV4dCgpOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMzsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgLy8g5aaC5p6cdG/nmoTljIXlkKvlnKgg55m95ZCN5Y2V6YeM6Z2iCiAgICAgICAgICAgIGlmICh3aGl0ZUxpc3QuaW5kZXhPZih0by5wYXRoKSA+IC0xKSB7CiAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIG5leHQoJy9sb2dpbicpOwogICAgICAgICAgICB9CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgLy8g6Kej5Yaz5omL5Yqo5YiH5o2i5Zyw5Z2A5pe277yM6L+b5bqm5p2h5LiN5Lya5YWz6Zet55qE6Zeu6aKYCiAgICAgICAgICAgIG5wcm9ncmVzcy5kb25lKCk7CgogICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9LCBfY2FsbGVlKTsKICB9KSk7CgogIHJldHVybiBmdW5jdGlvbiAoX3gsIF94MiwgX3gzKSB7CiAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07Cn0oKSk7IC8vIOWQjue9ruWuiOWNqwoKcm91dGVyLmFmdGVyRWFjaChmdW5jdGlvbiAoKSB7CiAgLy8g5YWz6Zet6L+b5bqm5p2hCiAgbnByb2dyZXNzLmRvbmUoKTsKfSk7"},{"version":3,"names":["router","store","nprogress","whiteList","beforeEach","to","from","next","start","getters","token","path","userId","dispatch","indexOf","done","afterEach"],"sources":["E:/text/vue基础/vue-admin-template-master/src/permission.js"],"sourcesContent":["import router from '@/router'\r\nimport store from '@/store'\r\n// 引入进度条\r\nimport nprogress from 'nprogress'\r\nimport 'nprogress/nprogress.css'\r\n// 白名单\r\nconst whiteList = ['/login', '/404']\r\n// 前置守卫\r\nrouter.beforeEach(async (to,from,next)=> {\r\n  // 开启进度条\r\n  nprogress.start()\r\n  if (store.getters.token) {\r\n    if (to.path === '/login') {\r\n      next('/')\r\n    } else {\r\n      if(!store.getters.userId) {\r\n        await store.dispatch('user/getUserInfo')\r\n      }\r\n      next()\r\n    }\r\n  } else {\r\n    // 如果to的包含在 白名单里面\r\n    if (whiteList.indexOf(to.path) > -1) {\r\n      next()\r\n    } else {\r\n      next('/login')\r\n    }\r\n  }\r\n  // 解决手动切换地址时，进度条不会关闭的问题\r\n  nprogress.done()\r\n})\r\n// 后置守卫\r\nrouter.afterEach(() => {\r\n  // 关闭进度条\r\n  nprogress.done()\r\n})\r\n"],"mappings":";;AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB,C,CACA;;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAO,yBAAP,C,CACA;;AACA,IAAMC,SAAS,GAAG,CAAC,QAAD,EAAW,MAAX,CAAlB,C,CACA;;AACAH,MAAM,CAACI,UAAP;EAAA,sEAAkB,iBAAOC,EAAP,EAAUC,IAAV,EAAeC,IAAf;IAAA;MAAA;QAAA;UAAA;YAChB;YACAL,SAAS,CAACM,KAAV;;YAFgB,KAGZP,KAAK,CAACQ,OAAN,CAAcC,KAHF;cAAA;cAAA;YAAA;;YAAA,MAIVL,EAAE,CAACM,IAAH,KAAY,QAJF;cAAA;cAAA;YAAA;;YAKZJ,IAAI,CAAC,GAAD,CAAJ;YALY;YAAA;;UAAA;YAAA,IAORN,KAAK,CAACQ,OAAN,CAAcG,MAPN;cAAA;cAAA;YAAA;;YAAA;YAAA,OAQJX,KAAK,CAACY,QAAN,CAAe,kBAAf,CARI;;UAAA;YAUZN,IAAI;;UAVQ;YAAA;YAAA;;UAAA;YAad;YACA,IAAIJ,SAAS,CAACW,OAAV,CAAkBT,EAAE,CAACM,IAArB,IAA6B,CAAC,CAAlC,EAAqC;cACnCJ,IAAI;YACL,CAFD,MAEO;cACLA,IAAI,CAAC,QAAD,CAAJ;YACD;;UAlBa;YAoBhB;YACAL,SAAS,CAACa,IAAV;;UArBgB;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAlB;;EAAA;IAAA;EAAA;AAAA,K,CAuBA;;AACAf,MAAM,CAACgB,SAAP,CAAiB,YAAM;EACrB;EACAd,SAAS,CAACa,IAAV;AACD,CAHD"}]}