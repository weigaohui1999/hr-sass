{"remainingRequest":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\eslint-loader\\index.js??ref--13-0!E:\\text\\vue基础\\vue-admin-template-master\\src\\store\\modules\\user.js","dependencies":[{"path":"E:\\text\\vue基础\\vue-admin-template-master\\src\\store\\modules\\user.js","mtime":1661421395901},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\babel.config.js","mtime":1661332991891},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661324308788},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1661324301563},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\eslint-loader\\index.js","mtime":1661324308625}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovdGV4dC92dWVcdTU3RkFcdTc4NDAvdnVlLWFkbWluLXRlbXBsYXRlLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkU6L3RleHQvdnVlXHU1N0ZBXHU3ODQwL3Z1ZS1hZG1pbi10ZW1wbGF0ZS1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJFOi90ZXh0L3Z1ZVx1NTdGQVx1Nzg0MC92dWUtYWRtaW4tdGVtcGxhdGUtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0IHsgZ2V0VG9rZW4sIHJlbW92ZVRva2VuLCBzZXRUb2tlbiB9IGZyb20gJ0AvdXRpbHMvYXV0aCc7CmltcG9ydCB7IGdldFVzZXJEZXRhaWxCeUlkLCBnZXRVc2VySW5mbyBhcyBfZ2V0VXNlckluZm8sIGxvZ2luIGFzIF9sb2dpbiB9IGZyb20gJ0AvYXBpL3VzZXInOwp2YXIgc3RhdGUgPSB7CiAgLy8g6K6+572udG9rZW7kuLrlhbHkuqvnirbmgIEKICB0b2tlbjogZ2V0VG9rZW4oKSwKICB1c2VySW5mbzoge30KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBTRVRfVE9LRU46IGZ1bmN0aW9uIFNFVF9UT0tFTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgICBzZXRUb2tlbihzdGF0ZS50b2tlbik7CiAgfSwKICBSRU1PVkVfVE9LRU46IGZ1bmN0aW9uIFJFTU9WRV9UT0tFTihzdGF0ZSkgewogICAgc3RhdGUudG9rZW4gPSBudWxsOwogICAgcmVtb3ZlVG9rZW4oKTsKICB9LAogIFNFVF9VU0VSSU5GTzogZnVuY3Rpb24gU0VUX1VTRVJJTkZPKHN0YXRlLCByZXN1bHQpIHsKICAgIHN0YXRlLnVzZXJJbmZvID0gcmVzdWx0OwogIH0sCiAgUkVNT1ZFX1VTRVJJTkZPOiBmdW5jdGlvbiBSRU1PVkVfVVNFUklORk8oc3RhdGUpIHsKICAgIHN0YXRlLnVzZXJJbmZvID0ge307CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBsb2dpbjogZnVuY3Rpb24gbG9naW4oY29udGV4dCwgZGF0YSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIHJlc3VsdDsKICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfbG9naW4oZGF0YSk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnU0VUX1RPS0VOJywgcmVzdWx0KTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbyhjb250ZXh0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIHJlc3VsdCwgYmFzZUluZm87CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfZ2V0VXNlckluZm8oKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIGdldFVzZXJEZXRhaWxCeUlkKHJlc3VsdC51c2VySWQpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGJhc2VJbmZvID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ1NFVF9VU0VSSU5GTycsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVzdWx0KSwgYmFzZUluZm8pKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgcmVzdWx0KTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0sCiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoY29udGV4dCkgewogICAgY29udGV4dC5jb21taXQoJ1JFTU9WRV9UT0tFTicpOwogICAgY29udGV4dC5jb21taXQoJ1JFTU9WRV9VU0VSSU5GTycpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"names":["getToken","removeToken","setToken","getUserDetailById","getUserInfo","login","state","token","userInfo","mutations","SET_TOKEN","REMOVE_TOKEN","SET_USERINFO","result","REMOVE_USERINFO","actions","context","data","commit","userId","baseInfo","logout","namespaced"],"sources":["E:/text/vue基础/vue-admin-template-master/src/store/modules/user.js"],"sourcesContent":["import { getToken, removeToken, setToken } from '@/utils/auth'\nimport { getUserDetailById, getUserInfo, login } from '@/api/user'\n\nconst state = {\n  // 设置token为共享状态\n  token: getToken(),\n  userInfo: {}\n}\nconst mutations = {\n  SET_TOKEN: (state, token) => {\n    state.token = token\n    setToken(state.token)\n  },\n  REMOVE_TOKEN: (state) => {\n    state.token = null\n    removeToken()\n  },\n  SET_USERINFO: (state, result) => {\n    state.userInfo = result\n  },\n  REMOVE_USERINFO: (state) => {\n    state.userInfo = {}\n  }\n}\nconst actions = {\n  async login (context, data) {\n    const result = await login(data)\n    context.commit('SET_TOKEN' , result)\n  },\n  async getUserInfo (context) {\n    const result = await getUserInfo()\n    const baseInfo = await getUserDetailById(result.userId)\n    context.commit('SET_USERINFO', { ...result, ...baseInfo })\n    return result\n  },\n  logout(context) {\n    context.commit('REMOVE_TOKEN')\n    context.commit('REMOVE_USERINFO')\n  }\n}\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n}\n\n"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,WAAnB,EAAgCC,QAAhC,QAAgD,cAAhD;AACA,SAASC,iBAAT,EAA4BC,WAAW,IAAXA,YAA5B,EAAyCC,KAAK,IAALA,MAAzC,QAAsD,YAAtD;AAEA,IAAMC,KAAK,GAAG;EACZ;EACAC,KAAK,EAAEP,QAAQ,EAFH;EAGZQ,QAAQ,EAAE;AAHE,CAAd;AAKA,IAAMC,SAAS,GAAG;EAChBC,SAAS,EAAE,mBAACJ,KAAD,EAAQC,KAAR,EAAkB;IAC3BD,KAAK,CAACC,KAAN,GAAcA,KAAd;IACAL,QAAQ,CAACI,KAAK,CAACC,KAAP,CAAR;EACD,CAJe;EAKhBI,YAAY,EAAE,sBAACL,KAAD,EAAW;IACvBA,KAAK,CAACC,KAAN,GAAc,IAAd;IACAN,WAAW;EACZ,CARe;EAShBW,YAAY,EAAE,sBAACN,KAAD,EAAQO,MAAR,EAAmB;IAC/BP,KAAK,CAACE,QAAN,GAAiBK,MAAjB;EACD,CAXe;EAYhBC,eAAe,EAAE,yBAACR,KAAD,EAAW;IAC1BA,KAAK,CAACE,QAAN,GAAiB,EAAjB;EACD;AAde,CAAlB;AAgBA,IAAMO,OAAO,GAAG;EACRV,KADQ,iBACDW,OADC,EACQC,IADR,EACc;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACLZ,MAAK,CAACY,IAAD,CADA;;YAAA;cACpBJ,MADoB;cAE1BG,OAAO,CAACE,MAAR,CAAe,WAAf,EAA6BL,MAA7B;;YAF0B;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAG3B,CAJa;EAKRT,WALQ,uBAKKY,OALL,EAKc;IAAA;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACLZ,YAAW,EADN;;YAAA;cACpBS,MADoB;cAAA;cAAA,OAEHV,iBAAiB,CAACU,MAAM,CAACM,MAAR,CAFd;;YAAA;cAEpBC,QAFoB;cAG1BJ,OAAO,CAACE,MAAR,CAAe,cAAf,kCAAoCL,MAApC,GAA+CO,QAA/C;cAH0B,kCAInBP,MAJmB;;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA;EAK3B,CAVa;EAWdQ,MAXc,kBAWPL,OAXO,EAWE;IACdA,OAAO,CAACE,MAAR,CAAe,cAAf;IACAF,OAAO,CAACE,MAAR,CAAe,iBAAf;EACD;AAda,CAAhB;AAgBA,eAAe;EACbI,UAAU,EAAE,IADC;EAEbhB,KAAK,EAALA,KAFa;EAGbG,SAAS,EAATA,SAHa;EAIbM,OAAO,EAAPA;AAJa,CAAf"}]}