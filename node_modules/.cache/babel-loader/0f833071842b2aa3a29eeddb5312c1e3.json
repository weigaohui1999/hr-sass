{"remainingRequest":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js!E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\text\\vue基础\\vue-admin-template-master\\src\\views\\employees\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\text\\vue基础\\vue-admin-template-master\\src\\views\\employees\\index.vue","mtime":1661598261982},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\babel.config.js","mtime":1661332991891},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661324308788},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1661324301563},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661324308788},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1661324302450}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIGZyb20gIkU6L3RleHQvdnVlXHU1N0ZBXHU3ODQwL3Z1ZS1hZG1pbi10ZW1wbGF0ZS1tYXN0ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2ludGVyb3BSZXF1aXJlV2lsZGNhcmQuanMiOwppbXBvcnQgX3JlZ2VuZXJhdG9yUnVudGltZSBmcm9tICJFOi90ZXh0L3Z1ZVx1NTdGQVx1Nzg0MC92dWUtYWRtaW4tdGVtcGxhdGUtbWFzdGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9yZWdlbmVyYXRvclJ1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRTovdGV4dC92dWVcdTU3RkFcdTc4NDAvdnVlLWFkbWluLXRlbXBsYXRlLW1hc3Rlci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC5rZXlzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGRlbEVtcGxveWVlIGFzIF9kZWxFbXBsb3llZSwgZ2V0RW1wbG95ZWVMaXN0IGFzIF9nZXRFbXBsb3llZUxpc3QgfSBmcm9tICdAL2FwaS9lbXBsb3llZXMnOwppbXBvcnQgRW1wbG95ZWVFbnVtIGZyb20gJ0AvYXBpL2NvbnN0YW50L2VtcGxveWVlcyc7CmltcG9ydCBBZGRFbXBsb3llZSBmcm9tICdAL3ZpZXdzL2VtcGxveWVlcy9jb21wb25lbnRzL2FkZC1lbXBsb3llZSc7CmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tICdAL2ZpbHRlcnMnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQWRkRW1wbG95ZWU6IEFkZEVtcGxveWVlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogW10sCiAgICAgIHBhZ2U6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIHNpemU6IDEwLAogICAgICAgIHRvdGFsOiAwCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBzaG93RGlhbG9nOiBmYWxzZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEVtcGxveWVlTGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0RW1wbG95bWVudDogZnVuY3Rpb24gZm9ybWF0RW1wbG95bWVudChyb3csIGNvbHVtbiwgY2VsbFZhbHVlLCBpbmRleCkgewogICAgICB2YXIgb2JqID0gRW1wbG95ZWVFbnVtLmhpcmVUeXBlLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gY2VsbFZhbHVlOwogICAgICB9KTsKICAgICAgcmV0dXJuIG9iaiA/IG9iai52YWx1ZSA6ICfmnKrnn6UnOwogICAgfSwKICAgIGdldEVtcGxveWVlTGlzdDogZnVuY3Rpb24gZ2V0RW1wbG95ZWVMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJF9nZXRFbXBsb3llZUxpLCB0b3RhbCwgcm93czsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0RW1wbG95ZWVMaXN0KF90aGlzLnBhZ2UpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfeWllbGQkX2dldEVtcGxveWVlTGkgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgdG90YWwgPSBfeWllbGQkX2dldEVtcGxveWVlTGkudG90YWw7CiAgICAgICAgICAgICAgICByb3dzID0gX3lpZWxkJF9nZXRFbXBsb3llZUxpLnJvd3M7CiAgICAgICAgICAgICAgICBfdGhpcy5wYWdlLnRvdGFsID0gdG90YWw7CiAgICAgICAgICAgICAgICBfdGhpcy5saXN0ID0gcm93czsKICAgICAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoYW5nZVBhZ2U6IGZ1bmN0aW9uIGNoYW5nZVBhZ2UobmV3UGFnZSkgewogICAgICB0aGlzLnBhZ2UucGFnZSA9IG5ld1BhZ2U7CiAgICAgIHRoaXMuZ2V0RW1wbG95ZWVMaXN0KCk7CiAgICB9LAogICAgZGVsRW1wbG95ZWU6IGZ1bmN0aW9uIGRlbEVtcGxveWVlKGlkKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfZGVsRW1wbG95ZWUoaWQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZ2V0RW1wbG95ZWVMaXN0KCk7CgogICAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5ZGY5bel5oiQ5YqfJyk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZXhwb3J0RGF0YTogZnVuY3Rpb24gZXhwb3J0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB2YXIgaGVhZGVycyA9IHsKICAgICAgICAn5omL5py65Y+3JzogJ21vYmlsZScsCiAgICAgICAgJ+Wnk+WQjSc6ICd1c2VybmFtZScsCiAgICAgICAgJ+WFpeiBjOaXpeacnyc6ICd0aW1lT2ZFbnRyeScsCiAgICAgICAgJ+iBmOeUqOW9ouW8jyc6ICdmb3JtT2ZFbXBsb3ltZW50JywKICAgICAgICAn6L2s5q2j5pel5pyfJzogJ2NvcnJlY3Rpb25UaW1lJywKICAgICAgICAn5bel5Y+3JzogJ3dvcmtOdW1iZXInLAogICAgICAgICfpg6jpl6gnOiAnZGVwYXJ0bWVudE5hbWUnCiAgICAgIH07CiAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKCdAL3ZlbmRvci9FeHBvcnQyRXhjZWwnKSk7CiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKGV4Y2VsKSB7CiAgICAgICAgICB2YXIgX3lpZWxkJF9nZXRFbXBsb3llZUxpMiwgcm93cywgZGF0YTsKCiAgICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfZ2V0RW1wbG95ZWVMaXN0KHsKICAgICAgICAgICAgICAgICAgICBwYWdlOiAxLAogICAgICAgICAgICAgICAgICAgIHNpemU6IF90aGlzMy5wYWdlLnRvdGFsCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgX3lpZWxkJF9nZXRFbXBsb3llZUxpMiA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgICByb3dzID0gX3lpZWxkJF9nZXRFbXBsb3llZUxpMi5yb3dzOwogICAgICAgICAgICAgICAgICBkYXRhID0gX3RoaXMzLmZvcm1hdEpzb24oaGVhZGVycywgcm93cyk7CiAgICAgICAgICAgICAgICAgIGV4Y2VsLmV4cG9ydF9qc29uX3RvX2V4Y2VsKHsKICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IE9iamVjdC5rZXlzKGhlYWRlcnMpLAogICAgICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgICAgICAgZmlsZW5hbWU6ICflkZjlt6Xlt6XotYTooagnCiAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfSwKICAgIC8vIOWwhlt7fV0gLOi9rOS4ultbXV0KICAgIGZvcm1hdEpzb246IGZ1bmN0aW9uIGZvcm1hdEpzb24oaGVhZGVycywgcm93cykgewogICAgICByZXR1cm4gcm93cy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoaGVhZGVycykubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICAgIGlmIChoZWFkZXJzW2tleV0gPT09ICd0aW1lT2ZFbnRyeScgfHwgaGVhZGVyc1trZXldID09PSAnY29ycmVjdGlvblRpbWUnKSB7CiAgICAgICAgICAgIHJldHVybiBmb3JtYXREYXRlKGl0ZW1baGVhZGVyc1trZXldXSk7CiAgICAgICAgICB9IGVsc2UgaWYgKGhlYWRlcnNba2V5XSA9PT0gJ2Zvcm1PZkVtcGxveW1lbnQnKSB7CiAgICAgICAgICAgIHZhciBvYmogPSBFbXBsb3llZUVudW0uaGlyZVR5cGUuZm9yRWFjaChmdW5jdGlvbiAoaXRlbXMpIHsKICAgICAgICAgICAgICByZXR1cm4gaXRlbXMuaWQgPSBpdGVtW2hlYWRlcnNba2V5XV07CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXR1cm4gb2JqID8gb2JqLnZhbHVlIDogJ+acquefpSc7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIGl0ZW1baGVhZGVyc1trZXldXTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACA;AACA;EACAA;IAAAC;EAAA,CADA;EAEAC,IAFA,kBAEA;IACA;MACAC,QADA;MAEAC;QACAA,OADA;QAEAC,QAFA;QAGAC;MAHA,CAFA;MAOAC,cAPA;MAQAC;IARA;EAUA,CAbA;EAcAC,OAdA,qBAcA;IACA;EACA,CAhBA;EAiBAC;IACAC,gBADA,4BACAC,GADA,EACAC,MADA,EACAC,SADA,EACAC,KADA,EACA;MACA;QAAA;MAAA;MACA;IACA,CAJA;IAKAC,eALA,6BAKA;MAAA;;MAAA;QAAA;;QAAA;UAAA;YAAA;cAAA;gBACA;gBADA;gBAAA,OAEAA,4BAFA;;cAAA;gBAAA;gBAEAV,KAFA,yBAEAA,KAFA;gBAEAW,IAFA,yBAEAA,IAFA;gBAGA;gBACA;gBACA;;cALA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAMA,CAXA;IAYAC,UAZA,sBAYAC,OAZA,EAYA;MACA;MACA;IACA,CAfA;IAgBAC,WAhBA,uBAgBAC,EAhBA,EAgBA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAD;kBACA;;kBACA;gBACA,CAHA,EAGAE,KAHA,CAGA;kBACAC;gBACA,CALA,CADA;;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAOA,CAvBA;IAwBAC,UAxBA,wBAwBA;MAAA;;MACA;QACA,eADA;QAEA,gBAFA;QAGA,qBAHA;QAIA,0BAJA;QAKA,wBALA;QAMA,kBANA;QAOA;MAPA;MASA;QAAA;MAAA;QAAA;UAAA;;UAAA;YAAA;cAAA;gBAAA;kBAAA;kBAAA,OACAR;oBAAAZ;oBAAAC;kBAAA,EADA;;gBAAA;kBAAA;kBACAY,IADA,0BACAA,IADA;kBAEAf,IAFA,GAEA,gCAFA;kBAGAuB;oBACAC,4BADA;oBAEAxB,UAFA;oBAGAyB;kBAHA;;gBAHA;gBAAA;kBAAA;cAAA;YAAA;UAAA;QAAA;;QAAA;UAAA;QAAA;MAAA;IASA,CA3CA;IA4CA;IACAC,UA7CA,sBA6CAC,OA7CA,EA6CAZ,IA7CA,EA6CA;MACA;QACA,gCACA;UACA;YACA;UACA,CAFA,MAEA;YACA;cAAA;YAAA;YACA;UACA;;UACA;QACA,CATA;MAWA,CAZA;IAaA;EA3DA;AAjBA","names":["components","AddEmployee","data","list","page","size","total","loading","showDialog","created","methods","formatEmployment","row","column","cellValue","index","getEmployeeList","rows","changePage","newPage","delEmployee","id","catch","console","exportData","excel","header","filename","formatJson","headers"],"sourceRoot":"src/views/employees","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"employees-container\">\n    <div class=\"app-container\">\n      <page-tools :show-before=\"true\">\n        <span slot=\"before\">\n          共{{ page.total }}多少条记录\n        </span>\n        <template v-slot:after>\n          <el-button size=\"small\" type=\"warning\" @click=\"$router.push('/import?type=user')\">导入</el-button>\n          <el-button size=\"small\" type=\"danger\" @click=\"exportData\">导出</el-button>\n          <el-button size=\"small\" type=\"primary\" @click=\"showDialog = true\">新增员工</el-button>\n        </template>\n      </page-tools>\n\n      <el-card>\n        <el-table border :data=\"list\" v-loading=\"loading\">\n          <el-table-column label=\"序号\" sortable=\"\" type=\"index\" />\n          <el-table-column label=\"姓名\" sortable=\"\" prop=\"username\"/>\n          <el-table-column label=\"工号\" sortable=\"\" prop=\"workNumber\"/>\n          <el-table-column label=\"聘用形式\" sortable=\"\" prop=\"formOfEmployment\" :formatter=\"formatEmployment\"/>\n          <el-table-column label=\"部门\" sortable=\"\" prop=\"departmentName\"/>\n          <el-table-column label=\"入职时间\" sortable=\"\" prop=\"timeOfEntry\">\n            <template slot-scope=\"{ row }\">\n              {{ row.timeOfEntry | formatDate }}\n            </template>\n          </el-table-column>\n          <el-table-column label=\"账户状态\" sortable=\"\" prop=\"enableState\">\n            <template slot-scope=\"{ row }\">\n              <el-switch :value=\"row.enableState === 1\" />\n            </template>\n          </el-table-column>\n          <el-table-column label=\"操作\" sortable=\"\" fixed=\"right\" width=\"280\">\n            <template slot-scope=\"{ row }\">\n              <el-button type=\"text\" size=\"small\">查看</el-button>\n              <el-button type=\"text\" size=\"small\">转正</el-button>\n              <el-button type=\"text\" size=\"small\">调岗</el-button>\n              <el-button type=\"text\" size=\"small\">离职</el-button>\n              <el-button type=\"text\" size=\"small\">角色</el-button>\n              <el-button type=\"text\" size=\"small\" @click=\"delEmployee(row.id)\">删除</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <!-- 分页组件 -->\n        <el-row type=\"flex\" justify=\"center\" align=\"middle\" style=\"height: 60px\">\n          <el-pagination layout=\"prev, pager, next\" :current-page=\"page.page\" :page-size=\"page.size\" :total=\"page.total\" @current-change=\"changePage\"/>\n        </el-row>\n      </el-card>\n    </div>\n    <add-employee :show-dialog.sync=\"showDialog\"/>\n  </div>\n</template>\n\n<script>\nimport { delEmployee, getEmployeeList } from '@/api/employees'\nimport EmployeeEnum from '@/api/constant/employees'\nimport AddEmployee from '@/views/employees/components/add-employee'\nimport { formatDate } from '@/filters'\nexport default {\n  components: { AddEmployee },\n  data() {\n    return{\n      list: [],\n      page: {\n        page: 1,\n        size: 10,\n        total: 0\n      },\n      loading: false,\n      showDialog: false\n    }\n  },\n  created() {\n    this.getEmployeeList()\n  },\n  methods: {\n    formatEmployment(row, column, cellValue, index) {\n      const obj = EmployeeEnum.hireType.find(item => item.id === cellValue)\n      return obj ? obj.value : '未知'\n    },\n    async getEmployeeList() {\n      this.loading = true\n      const { total,rows } = await getEmployeeList(this.page)\n      this.page.total = total\n      this.list = rows\n      this.loading = false\n    },\n    changePage(newPage) {\n      this.page.page = newPage\n      this.getEmployeeList()\n    },\n    async delEmployee(id) {\n      await delEmployee(id).then(()=>{\n        this.getEmployeeList()\n        this.$message.success('删除员工成功')\n      }).catch((err)=>{\n        console.log(err)\n      })\n    },\n    exportData() {\n      const headers = {\n        '手机号': 'mobile',\n        '姓名': 'username',\n        '入职日期': 'timeOfEntry',\n        '聘用形式': 'formOfEmployment',\n        '转正日期': 'correctionTime',\n        '工号': 'workNumber',\n        '部门': 'departmentName'\n      }\n      import('@/vendor/Export2Excel').then(async excel =>{\n        const { rows } = await getEmployeeList({ page: 1, size: this.page.total })\n        const data = this.formatJson(headers, rows)\n        excel.export_json_to_excel({\n          header: Object.keys(headers),\n          data: data,\n          filename: '员工工资表'\n        })\n      })\n    },\n    // 将[{}] ,转为[[]]\n    formatJson(headers, rows) {\n      return rows.map(item => {\n        return Object.keys(headers).map(\n          key => {\n            if(headers[key] ==='timeOfEntry' || headers[key] ==='correctionTime') {\n              return formatDate(item[headers[key]])\n            } else if(headers[key] ==='formOfEmployment') {\n              const obj = EmployeeEnum.hireType.forEach(items => items.id = item[headers[key]])\n              return obj ? obj.value : '未知'\n            }\n            return item[headers[key]]\n          }\n        )\n      })\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n"]}]}