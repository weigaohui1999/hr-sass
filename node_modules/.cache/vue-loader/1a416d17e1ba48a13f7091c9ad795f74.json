{"remainingRequest":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\text\\vue基础\\vue-admin-template-master\\src\\views\\departments\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\text\\vue基础\\vue-admin-template-master\\src\\views\\departments\\index.vue","mtime":1661511190922},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661324308788},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1661324301563},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661324308788},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1661324302450}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUcmVlVG9vbHMgZnJvbSAnQC92aWV3cy9kZXBhcnRtZW50cy9jb21wb25lbnRzL3RyZWUtdG9vbHMnCmltcG9ydCB7IGdldERlcGFydG1lbnRzIH0gZnJvbSAnQC9hcGkvZGVwYXJ0bWVudHMnCmltcG9ydCBhZGREZXB0IGZyb20gJ0Avdmlld3MvZGVwYXJ0bWVudHMvY29tcG9uZW50cy9hZGQtZGVwdCcKaW1wb3J0IHsgdHJhbkxpc3RUcmVlRGF0YSB9IGZyb20gJ0AvdXRpbHMnCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IFRyZWVUb29scywgYWRkRGVwdCB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgY29tcGFueToge30sCiAgICAgIGRlcGFydHM6IFtdLAogICAgICBkZWZhdWx0UHJvcHM6IHsKICAgICAgICBsYWJlbDogJ25hbWUnIC8vIOihqOekuiDku47ov5nkuKrlsZ7mgKfmmL7npLrlhoXlrrkKICAgICAgfSwKICAgICAgc2hvd0RpYWxvZzogZmFsc2UsCiAgICAgIG5vZGU6IHt9LAogICAgICBsb2FkaW5nOiBmYWxzZQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RGVwYXJ0bWVudHMoKQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZ2V0RGVwYXJ0bWVudHMgKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgIGF3YWl0IGdldERlcGFydG1lbnRzKCkudGhlbihkYXRhID0+IHsKICAgICAgICB0aGlzLmNvbXBhbnkgPSB7IG5hbWU6IGRhdGEuY29tcGFueU5hbWUsIG1hbmFnZXI6ICfotJ/otKPkuronLCBpZDogJycgfQogICAgICAgIHRoaXMuZGVwYXJ0cyA9IGRhdGEuZGVwdHMKICAgICAgICB0cmFuTGlzdFRyZWVEYXRhKGRhdGEuZGVwdHMsICcnKQogICAgICB9KQogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgfSwKICAgIGFkZERlcHRzKG5vZGUpIHsKICAgICAgdGhpcy5zaG93RGlhbG9nID0gdHJ1ZQogICAgICB0aGlzLm5vZGUgPSBub2RlCiAgICB9LAogICAgZWRpdERlcHRzKG5vZGUpIHsKICAgICAgdGhpcy5zaG93RGlhbG9nID0gdHJ1ZQogICAgICB0aGlzLm5vZGUgPSBub2RlCgogICAgICB0aGlzLiRyZWZzLmFkZERlcHQuZ2V0RGVwYXJ0RGV0YWlsKG5vZGUuaWQpCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/departments","sourcesContent":["<template>\n  <div v-loading=\"loading\" class=\"dashboard-container\">\n    <div class=\"app-container\">\n      <el-card class=\"tree-card\">\n        <tree-tools :tree-node=\"company\" :is-root=\"true\"/>\n        <el-tree :data=\"departs\" :default-expand-all=\"true\" :props=\"defaultProps\">\n          <tree-tools slot-scope=\"{ data }\" :tree-node=\"data\" @delDepts=\"getDepartments\" @addDepts=\"addDepts\" @editDepts=\"editDepts\"/>\n        </el-tree>\n      </el-card>\n    </div>\n    <add-dept ref=\"addDept\" :show-dialog.sync=\"showDialog\" :tree-node=\"node\" @addDepts=\"getDepartments\"/>\n  </div>\n\n</template>\n\n<script>\nimport TreeTools from '@/views/departments/components/tree-tools'\nimport { getDepartments } from '@/api/departments'\nimport addDept from '@/views/departments/components/add-dept'\nimport { tranListTreeData } from '@/utils'\nexport default {\n  components: { TreeTools, addDept },\n  data () {\n    return {\n      company: {},\n      departs: [],\n      defaultProps: {\n        label: 'name' // 表示 从这个属性显示内容\n      },\n      showDialog: false,\n      node: {},\n      loading: false\n    }\n  },\n  created() {\n    this.getDepartments()\n  },\n  methods: {\n    async getDepartments () {\n      this.loading = true\n      await getDepartments().then(data => {\n        this.company = { name: data.companyName, manager: '负责人', id: '' }\n        this.departs = data.depts\n        tranListTreeData(data.depts, '')\n      })\n      this.loading = false\n    },\n    addDepts(node) {\n      this.showDialog = true\n      this.node = node\n    },\n    editDepts(node) {\n      this.showDialog = true\n      this.node = node\n\n      this.$refs.addDept.getDepartDetail(node.id)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.tree-card {\n  padding: 30px 140px;\n  font-size: 14px\n}\n</style>\n"]}]}