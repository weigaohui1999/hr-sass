{"remainingRequest":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\text\\vue基础\\vue-admin-template-master\\src\\views\\departments\\index.vue?vue&type=style&index=0&id=e735600c&scoped=true&lang=css&","dependencies":[{"path":"E:\\text\\vue基础\\vue-admin-template-master\\src\\views\\departments\\index.vue","mtime":1661511190922},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\css-loader\\dist\\cjs.js","mtime":1661324308568},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1661324303007},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\postcss-loader\\src\\index.js","mtime":1661324308506},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1661324308788},{"path":"E:\\text\\vue基础\\vue-admin-template-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1661324302450}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudHJlZS1jYXJkIHsKICBwYWRkaW5nOiAzMHB4IDE0MHB4OwogIGZvbnQtc2l6ZTogMTRweAp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8DA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/departments","sourcesContent":["<template>\n  <div v-loading=\"loading\" class=\"dashboard-container\">\n    <div class=\"app-container\">\n      <el-card class=\"tree-card\">\n        <tree-tools :tree-node=\"company\" :is-root=\"true\"/>\n        <el-tree :data=\"departs\" :default-expand-all=\"true\" :props=\"defaultProps\">\n          <tree-tools slot-scope=\"{ data }\" :tree-node=\"data\" @delDepts=\"getDepartments\" @addDepts=\"addDepts\" @editDepts=\"editDepts\"/>\n        </el-tree>\n      </el-card>\n    </div>\n    <add-dept ref=\"addDept\" :show-dialog.sync=\"showDialog\" :tree-node=\"node\" @addDepts=\"getDepartments\"/>\n  </div>\n\n</template>\n\n<script>\nimport TreeTools from '@/views/departments/components/tree-tools'\nimport { getDepartments } from '@/api/departments'\nimport addDept from '@/views/departments/components/add-dept'\nimport { tranListTreeData } from '@/utils'\nexport default {\n  components: { TreeTools, addDept },\n  data () {\n    return {\n      company: {},\n      departs: [],\n      defaultProps: {\n        label: 'name' // 表示 从这个属性显示内容\n      },\n      showDialog: false,\n      node: {},\n      loading: false\n    }\n  },\n  created() {\n    this.getDepartments()\n  },\n  methods: {\n    async getDepartments () {\n      this.loading = true\n      await getDepartments().then(data => {\n        this.company = { name: data.companyName, manager: '负责人', id: '' }\n        this.departs = data.depts\n        tranListTreeData(data.depts, '')\n      })\n      this.loading = false\n    },\n    addDepts(node) {\n      this.showDialog = true\n      this.node = node\n    },\n    editDepts(node) {\n      this.showDialog = true\n      this.node = node\n\n      this.$refs.addDept.getDepartDetail(node.id)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.tree-card {\n  padding: 30px 140px;\n  font-size: 14px\n}\n</style>\n"]}]}